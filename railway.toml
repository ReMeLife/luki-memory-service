[build]
builder = "dockerfile"
dockerfilePath = "Dockerfile"
watchPatterns = [
  "luki_memory/**",
  "requirements.txt",
  "requirements-railway.txt",
  "Dockerfile",
  "_context/**",
  "luki_memory/api/fallback_knowledge.py",
  "luki_memory/api/main_fixed.py",
  "luki_memory/api/app.py",
  "luki_memory/integrations/supabase_integration.py",
  "luki_memory/api/endpoints/supabase.py",
  "luki_memory/storage/knowledge_store.py"
]

[deploy]
healthcheckPath = "/health"
healthcheckTimeout = 300
restartPolicyType = "on_failure"
restartPolicyMaxRetries = 3
